Creating a Deployment
In this lesson, we will use Terraform to create a Kubernetes deployment and service.

Setup your environment:

mkdir -p ~/terraform/deployment
cd ~/terraform/deployment
Create main.tf:

vi main.tf
main.tf contents:

resource "kubernetes_service" "ghost_service" {
  metadata {
    name = "ghost-service"
  }
  spec {
    selector = {
      app = "${kubernetes_deployment.ghost_deployment.spec.0.template.0.metadata.0.labels.app}"
    }
    port {
      port        = "2368"
      target_port = "2368"
      node_port   = "30080"
    }

    type = "NodePort"
  }
}

resource "kubernetes_deployment" "ghost_deployment" {
  metadata {
    name = "ghost-blog"
  }

  spec {
    replicas = "1"

    selector  {
      match_labels = {
        app = "ghost-blog"
      }
    }

    template {
      metadata {
        labels = {
          app = "ghost-blog"
        }
      }

      spec {
        container {
          name  = "ghost"
          image = "ghost:alpine"
          port {
            container_port = "2368"
          }
        }
      }
    }
  }
}
Initialize Terraform: terraform init
Validate the files:  terraform validate
Plan the deployment:  terraform plan
Deploy the pod: terraform apply -auto-approve
List the Deployments:  kubectl get deployments
List the Pods: kubectl get pods
Delete pods: kubectl delete pod [POD_ID]
Reset the environment: terraform destroy -auto-approve

=========================================================================================================================================================================================================


[node1 terraform]$ mkdir -p ~/terraform/deployment
[node1 terraform]$ cd ~/terraform/deployment
[node1 deployment]$ vi main.tf
[node1 deployment]$ terraform init

Initializing the backend...

Initializing provider plugins...

The following providers do not have any version constraints in configuration,
so the latest version was installed.

To prevent automatic upgrades to new major versions that may contain breaking
changes, it is recommended to add version = "..." constraints to the
corresponding provider blocks in configuration, with the constraint strings
suggested below.

* provider.kubernetes: version = "~> 1.10"

Terraform has been successfully initialized!

You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.
[node1 deployment]$ terraform validate
Success! The configuration is valid.

[node1 deployment]$ terraform plan
Refreshing Terraform state in-memory prior to plan...
The refreshed state will be used to calculate this plan, but will not be
persisted to local or remote state storage.


------------------------------------------------------------------------

An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  + create

Terraform will perform the following actions:

  # kubernetes_deployment.ghost_deployment will be created
  + resource "kubernetes_deployment" "ghost_deployment" {
      + id = (known after apply)

      + metadata {
          + generation       = (known after apply)
          + name             = "ghost-blog"
          + namespace        = "default"
          + resource_version = (known after apply)
          + self_link        = (known after apply)
          + uid              = (known after apply)
        }

      + spec {
          + min_ready_seconds         = 0
          + paused                    = false
          + progress_deadline_seconds = 600
          + replicas                  = 1
          + revision_history_limit    = 10

          + selector {
              + match_labels = {
                  + "app" = "ghost-blog"
                }
            }

          + strategy {
              + type = (known after apply)

              + rolling_update {
                  + max_surge       = (known after apply)
                  + max_unavailable = (known after apply)
                }
            }

          + template {
              + metadata {
                  + generation       = (known after apply)
                  + labels           = {
                      + "app" = "ghost-blog"
                    }
                  + name             = (known after apply)
                  + resource_version = (known after apply)
                  + self_link        = (known after apply)
                  + uid              = (known after apply)
                }

              + spec {
                  + dns_policy                       = "ClusterFirst"
                  + host_ipc                         = false
                  + host_network                     = false
                  + host_pid                         = false
                  + hostname                         = (known after apply)
                  + node_name                        = (known after apply)
                  + restart_policy                   = "Always"
                  + service_account_name             = (known after apply)
                  + share_process_namespace          = false
                  + termination_grace_period_seconds = 30

                  + container {
                      + image                    = "ghost:alpine"
                      + image_pull_policy        = (known after apply)
                      + name                     = "ghost"
                      + stdin                    = false
                      + stdin_once               = false
                      + termination_message_path = "/dev/termination-log"
                      + tty                      = false

                      + port {
                          + container_port = 2368
                          + protocol       = "TCP"
                        }

                      + resources {
                          + limits {
                              + cpu    = (known after apply)
                              + memory = (known after apply)
                            }

                          + requests {
                              + cpu    = (known after apply)
                              + memory = (known after apply)
                            }
                        }

                      + volume_mount {
                          + mount_path        = (known after apply)
                          + mount_propagation = (known after apply)
                          + name              = (known after apply)
                          + read_only         = (known after apply)
                          + sub_path          = (known after apply)
                        }
                    }

                  + image_pull_secrets {
                      + name = (known after apply)
                    }

                  + volume {
                      + name = (known after apply)

                      + aws_elastic_block_store {
                          + fs_type   = (known after apply)
                          + partition = (known after apply)
                          + read_only = (known after apply)
                          + volume_id = (known after apply)
                        }

                      + azure_disk {
                          + caching_mode  = (known after apply)
                          + data_disk_uri = (known after apply)
                          + disk_name     = (known after apply)
                          + fs_type       = (known after apply)
                          + read_only     = (known after apply)
                        }

                      + azure_file {
                          + read_only   = (known after apply)
                          + secret_name = (known after apply)
                          + share_name  = (known after apply)
                        }

                      + ceph_fs {
                          + monitors    = (known after apply)
                          + path        = (known after apply)
                          + read_only   = (known after apply)
                          + secret_file = (known after apply)
                          + user        = (known after apply)

                          + secret_ref {
                              + name = (known after apply)
                            }
                        }

                      + cinder {
                          + fs_type   = (known after apply)
                          + read_only = (known after apply)
                          + volume_id = (known after apply)
                        }

                      + config_map {
                          + default_mode = (known after apply)
                          + name         = (known after apply)

                          + items {
                              + key  = (known after apply)
                              + mode = (known after apply)
                              + path = (known after apply)
                            }
                        }

                      + downward_api {
                          + default_mode = (known after apply)

                          + items {
                              + mode = (known after apply)
                              + path = (known after apply)

                              + field_ref {
                                  + api_version = (known after apply)
                                  + field_path  = (known after apply)
                                }

                              + resource_field_ref {
                                  + container_name = (known after apply)
                                  + quantity       = (known after apply)
                                  + resource       = (known after apply)
                                }
                            }
                        }

                      + empty_dir {
                          + medium = (known after apply)
                        }

                      + fc {
                          + fs_type      = (known after apply)
                          + lun          = (known after apply)
                          + read_only    = (known after apply)
                          + target_ww_ns = (known after apply)
                        }

                      + flex_volume {
                          + driver    = (known after apply)
                          + fs_type   = (known after apply)
                          + options   = (known after apply)
                          + read_only = (known after apply)

                          + secret_ref {
                              + name = (known after apply)
                            }
                        }

                      + flocker {
                          + dataset_name = (known after apply)
                          + dataset_uuid = (known after apply)
                        }

                      + gce_persistent_disk {
                          + fs_type   = (known after apply)
                          + partition = (known after apply)
                          + pd_name   = (known after apply)
                          + read_only = (known after apply)
                        }

                      + git_repo {
                          + directory  = (known after apply)
                          + repository = (known after apply)
                          + revision   = (known after apply)
                        }

                      + glusterfs {
                          + endpoints_name = (known after apply)
                          + path           = (known after apply)
                          + read_only      = (known after apply)
                        }

                      + host_path {
                          + path = (known after apply)
                          + type = (known after apply)
                        }

                      + iscsi {
                          + fs_type         = (known after apply)
                          + iqn             = (known after apply)
                          + iscsi_interface = (known after apply)
                          + lun             = (known after apply)
                          + read_only       = (known after apply)
                          + target_portal   = (known after apply)
                        }

                      + local {
                          + path = (known after apply)
                        }

                      + nfs {
                          + path      = (known after apply)
                          + read_only = (known after apply)
                          + server    = (known after apply)
                        }

                      + persistent_volume_claim {
                          + claim_name = (known after apply)
                          + read_only  = (known after apply)
                        }

                      + photon_persistent_disk {
                          + fs_type = (known after apply)
                          + pd_id   = (known after apply)
                        }

                      + quobyte {
                          + group     = (known after apply)
                          + read_only = (known after apply)
                          + registry  = (known after apply)
                          + user      = (known after apply)
                          + volume    = (known after apply)
                        }

                      + rbd {
                          + ceph_monitors = (known after apply)
                          + fs_type       = (known after apply)
                          + keyring       = (known after apply)
                          + rados_user    = (known after apply)
                          + rbd_image     = (known after apply)
                          + rbd_pool      = (known after apply)
                          + read_only     = (known after apply)

                          + secret_ref {
                              + name = (known after apply)
                            }
                        }

                      + secret {
                          + default_mode = (known after apply)
                          + optional     = (known after apply)
                          + secret_name  = (known after apply)

                          + items {
                              + key  = (known after apply)
                              + mode = (known after apply)
                              + path = (known after apply)
                            }
                        }

                      + vsphere_volume {
                          + fs_type     = (known after apply)
                          + volume_path = (known after apply)
                        }
                    }
                }
            }
        }
    }

  # kubernetes_service.ghost_service will be created
  + resource "kubernetes_service" "ghost_service" {
      + id                    = (known after apply)
      + load_balancer_ingress = (known after apply)

      + metadata {
          + generation       = (known after apply)
          + name             = "ghost-service"
          + namespace        = "default"
          + resource_version = (known after apply)
          + self_link        = (known after apply)
          + uid              = (known after apply)
        }

      + spec {
          + cluster_ip                  = (known after apply)
          + external_traffic_policy     = (known after apply)
          + publish_not_ready_addresses = false
          + selector                    = {
              + "app" = "ghost-blog"
            }
          + session_affinity            = "None"
          + type                        = "NodePort"

          + port {
              + node_port   = 30080
              + port        = 2368
              + protocol    = "TCP"
              + target_port = "2368"
            }
        }
    }

Plan: 2 to add, 0 to change, 0 to destroy.

------------------------------------------------------------------------

Note: You didn't specify an "-out" parameter to save this plan, so Terraform
can't guarantee that exactly these actions will be performed if
"terraform apply" is subsequently run.

[node1 deployment]$ terraform apply -auto-approve
kubernetes_deployment.ghost_deployment: Creating...
kubernetes_deployment.ghost_deployment: Still creating... [10s elapsed]
kubernetes_deployment.ghost_deployment: Still creating... [20s elapsed]
kubernetes_deployment.ghost_deployment: Still creating... [30s elapsed]
kubernetes_deployment.ghost_deployment: Still creating... [40s elapsed]
kubernetes_deployment.ghost_deployment: Still creating... [50s elapsed]
kubernetes_deployment.ghost_deployment: Still creating... [1m0s elapsed]
kubernetes_deployment.ghost_deployment: Still creating... [1m10s elapsed]
kubernetes_deployment.ghost_deployment: Still creating... [1m20s elapsed]
kubernetes_deployment.ghost_deployment: Still creating... [1m30s elapsed]
kubernetes_deployment.ghost_deployment: Still creating... [1m40s elapsed]
kubernetes_deployment.ghost_deployment: Still creating... [1m50s elapsed]
kubernetes_deployment.ghost_deployment: Still creating... [2m0s elapsed]
kubernetes_deployment.ghost_deployment: Still creating... [2m10s elapsed]
kubernetes_deployment.ghost_deployment: Still creating... [2m20s elapsed]
kubernetes_deployment.ghost_deployment: Still creating... [2m30s elapsed]
kubernetes_deployment.ghost_deployment: Still creating... [2m40s elapsed]
kubernetes_deployment.ghost_deployment: Creation complete after 2m49s [id=default/ghost-blog]
kubernetes_service.ghost_service: Creating...
kubernetes_service.ghost_service: Creation complete after 5s [id=default/ghost-service]

Apply complete! Resources: 2 added, 0 changed, 0 destroyed.
[node1 deployment]$ kubectl get deployments
NAME         READY   UP-TO-DATE   AVAILABLE   AGE
ghost-blog   1/1     1            1           4m2s
[node1 deployment]$ kubectl get pods
NAME                          READY   STATUS    RESTARTS   AGE
ghost-blog-7685857bd7-8p6xx   1/1     Running   0          4m4s
[node1 deployment]$

[node1 deployment]$ kubectl describe deploy ghost-blog
Name:                   ghost-blog
Namespace:              default
CreationTimestamp:      Thu, 12 Dec 2019 09:06:44 +0000
Labels:                 <none>
Annotations:            deployment.kubernetes.io/revision: 1
Selector:               app=ghost-blog
Replicas:               1 desired | 1 updated | 1 total | 1 available | 0 unavailable
StrategyType:           RollingUpdate
MinReadySeconds:        0
RollingUpdateStrategy:  25% max unavailable, 25% max surge
Pod Template:
  Labels:  app=ghost-blog
  Containers:
   ghost:
    Image:        ghost:alpine
    Port:         2368/TCP
    Host Port:    0/TCP
    Environment:  <none>
    Mounts:       <none>
  Volumes:        <none>
Conditions:
  Type           Status  Reason
  ----           ------  ------
  Available      True    MinimumReplicasAvailable
  Progressing    True    NewReplicaSetAvailable
OldReplicaSets:  <none>
NewReplicaSet:   ghost-blog-7685857bd7 (1/1 replicas created)
Events:
  Type    Reason             Age    From                   Message
  ----    ------             ----   ----                   -------
  Normal  ScalingReplicaSet  5m25s  deployment-controller  Scaled up replica set ghost-blog-7685857bd7 to 1
[node1 deployment]$ kubectl describe pod ghost-blog-7685857bd7-8p6xx
Name:               ghost-blog-7685857bd7-8p6xx
Namespace:          default
Priority:           0
PriorityClassName:  <none>
Node:               node2/192.168.0.28
Start Time:         Thu, 12 Dec 2019 09:06:48 +0000
Labels:             app=ghost-blog
                    pod-template-hash=7685857bd7
Annotations:        <none>
Status:             Running
IP:                 10.32.0.2
Controlled By:      ReplicaSet/ghost-blog-7685857bd7
Containers:
  ghost:
    Container ID:   docker://15b0ea552b37f6a49ba71a5e4cc89b187abc69438ec2cf743385d9076b3914a7
    Image:          ghost:alpine
    Image ID:       docker-pullable://ghost@sha256:92ccd65240f66ad5835e554186b294006fee7dac9eceea0cbe13f7182eacfcb2
    Port:           2368/TCP
    Host Port:      0/TCP
    State:          Running
      Started:      Thu, 12 Dec 2019 09:09:20 +0000
    Ready:          True
    Restart Count:  0
    Environment:    <none>
    Mounts:         <none>
Conditions:
  Type              Status
  Initialized       True
  Ready             True
  ContainersReady   True
  PodScheduled      True
Volumes:            <none>
QoS Class:          BestEffort
Node-Selectors:     <none>
Tolerations:        node.kubernetes.io/not-ready:NoExecute for 300s
                    node.kubernetes.io/unreachable:NoExecute for 300s
Events:
  Type    Reason     Age    From               Message
  ----    ------     ----   ----               -------
  Normal  Scheduled  5m34s  default-scheduler  Successfully assigned default/ghost-blog-7685857bd7-8p6xx to node2
  Normal  Pulling    5m33s  kubelet, node2     Pulling image "ghost:alpine"
  Normal  Pulled     3m40s  kubelet, node2     Successfully pulled image "ghost:alpine"
  Normal  Created    3m4s   kubelet, node2     Created container ghost
  Normal  Started    3m3s   kubelet, node2     Started container ghost
[node1 deployment]$
                         
[node1 deployment]$ curl localhost:30080
<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Ghost</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css?v=4a4350c2b3" />

    <meta name="description" content="The professional publishing platform" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="canonical" href="http://localhost:2368/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

    <meta property="og:site_name" content="Ghost" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Ghost" />
    <meta property="og:description" content="The professional publishing platform" />
    <meta property="og:url" content="http://localhost:2368/" />
    <meta property="og:image" content="https://static.ghost.org/v3.0.0/images/publication-cover.png" />
    <meta property="article:publisher" content="https://www.facebook.com/ghost" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Ghost" />
    <meta name="twitter:description" content="The professional publishing platform" />
    <meta name="twitter:url" content="http://localhost:2368/" />
    <meta name="twitter:image" content="https://static.ghost.org/v3.0.0/images/publication-cover.png" />
    <meta name="twitter:site" content="tryghost" />
    <meta property="og:image:width" content="2709" />
    <meta property="og:image:height" content="938" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "WebSite",
    "publisher": {
        "@type": "Organization",
        "name": "Ghost",
        "logo": "https://static.ghost.org/v1.0.0/images/ghost-logo.svg"
    },
    "url": "http://localhost:2368/",
    "image": {
        "@type": "ImageObject",
        "url": "https://static.ghost.org/v3.0.0/images/publication-cover.png",
        "width": 2709,
        "height": 938
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:2368/"
    },
    "description": "The professional publishing platform"
}
    </script>

    <meta name="generator" content="Ghost 3.1" />
    <link rel="alternate" type="application/rss+xml" title="Ghost" href="http://localhost:2368/rss/" />

</head>
<body class="home-template">

    <div class="site-wrapper">


<header class="site-home-header">


<style type="text/css">
    .responsive-header-img {
        background-image: url(https://static.ghost.org/v3.0.0/images/publication-cover.png);
    }

    @media(max-width: 1000px) {
        .responsive-header-img {
            background-image: url(https://static.ghost.org/v3.0.0/images/publication-cover.png);
            background-image: -webkit-image-set(url(https://static.ghost.org/v3.0.0/images/publication-cover.png) 1x,
                url(https://static.ghost.org/v3.0.0/images/publication-cover.png) 2x);
            background-image: image-set(url(https://static.ghost.org/v3.0.0/images/publication-cover.png) 1x,
                url(https://static.ghost.org/v3.0.0/images/publication-cover.png) 2x);
        }
    }

    @media(max-width: 600px) {
        .responsive-header-img {
            background-image: url(https://static.ghost.org/v3.0.0/images/publication-cover.png);
            background-image: -webkit-image-set(url(https://static.ghost.org/v3.0.0/images/publication-cover.png) 1x,
                url(https://static.ghost.org/v3.0.0/images/publication-cover.png) 2x);
            background-image: image-set(url(https://static.ghost.org/v3.0.0/images/publication-cover.png) 1x,
                url(https://static.ghost.org/v3.0.0/images/publication-cover.png) 2x);
        }
    }
</style>
<div class="outer site-header-background responsive-header-img">


        <div class="inner">
            <nav class="site-nav">
    <div class="site-nav-left-wrapper">
        <div class="site-nav-left">
                <a class="site-nav-logo" href="http://localhost:2368"><img src="https://static.ghost.org/v1.0.0/images/ghost-logo.svg" alt="Ghost" /></a>
            <div class="site-nav-content">
                    <ul class="nav" role="menu">
    <li class="nav-home nav-current" role="menuitem"><a href="http://localhost:2368/">Home</a></li>
    <li class="nav-tag" role="menuitem"><a href="http://localhost:2368/tag/getting-started/">Tag</a></li>
    <li class="nav-author" role="menuitem"><a href="http://localhost:2368/author/ghost/">Author</a></li>
    <li class="nav-help" role="menuitem"><a href="https://ghost.org/docs/">Help</a></li>
</ul>

            </div>
        </div>
    </div>
    <div class="site-nav-right">
            <div class="social-links">
                    <a class="social-link social-link-fb" href="https://www.facebook.com/ghost" title="Facebook" target="_blank" rel="noopener"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16 0c8.837 0 16 7.163 16 16s-7.163 16-16 16S0 24.837 0 16 7.163 0 16 0zm5.204 4.911h-3.546c-2.103 0-4.443.885-4.443 3.934.01 1.062 0 2.08 0 3.225h-2.433v3.872h2.509v11.147h4.61v-11.22h3.042l.275-3.81h-3.397s.007-1.695 0-2.187c0-1.205 1.253-1.136 1.329-1.136h2.054V4.911z" /></svg></a>
                    <a class="social-link social-link-tw" href="https://twitter.com/tryghost" title="Twitter" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
</a>
            </div>
                <a class="rss-button" href="https://feedly.com/i/subscription/feed/http://localhost:2368/rss/" title="RSS"target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg>
</a>

    </div>
</nav>
            <div class="site-header-content">
                <h1 class="site-title">
                        <img class="site-logo" src="https://static.ghost.org/v1.0.0/images/ghost-logo.svg" alt="Ghost" />
                </h1>
                <h2 class="site-description">The professional publishing platform</h2>
            </div>
        </div>
    </div>
</header>

<main id="site-main" class="site-main outer">
    <div class="inner posts">

        <div class="post-feed">

                <article class="post-card post tag-getting-started post-card-large">

    <a class="post-card-image-link" href="/welcome/">
        <img class="post-card-image"
            srcset="https://static.ghost.org/v3.0.0/images/welcome-to-ghost.png 300w,
                    https://static.ghost.org/v3.0.0/images/welcome-to-ghost.png 600w,
                    https://static.ghost.org/v3.0.0/images/welcome-to-ghost.png 1000w,
                    https://static.ghost.org/v3.0.0/images/welcome-to-ghost.png 2000w"
            sizes="(max-width: 1000px) 400px, 700px"
            src="https://static.ghost.org/v3.0.0/images/welcome-to-ghost.png"
            alt="Welcome to Ghost"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/welcome/">

            <header class="post-card-header">
                    <div class="post-card-primary-tag">Getting Started</div>
                <h2 class="post-card-title">Welcome to Ghost</h2>
            </header>

            <section class="post-card-excerpt">
                    <p>Welcome, it's great to have you here. We know that first impressions are important, so we've populated your new site with some initial getting started posts that will help you get familiar with everything in no time.</p>
            </section>

        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Ghost
                    </div>

                    <a href="/author/ghost/" class="static-avatar">
                        <img class="author-profile-image" src="https://static.ghost.org/v3.0.0/images/ghost.png" alt="Ghost" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="/author/ghost/">Ghost</a></span>
                <span class="post-card-byline-date"><time datetime="2019-12-12">12 Dec 2019</time> <span class="bull">&bull;</span> 1 min read</span>
            </div>
        </footer>

    </div>

</article>


                <article class="post-card post tag-getting-started ">

    <a class="post-card-image-link" href="/the-editor/">
        <img class="post-card-image"
            srcset="https://static.ghost.org/v3.0.0/images/writing-posts-with-ghost.png 300w,
                    https://static.ghost.org/v3.0.0/images/writing-posts-with-ghost.png 600w,
                    https://static.ghost.org/v3.0.0/images/writing-posts-with-ghost.png 1000w,
                    https://static.ghost.org/v3.0.0/images/writing-posts-with-ghost.png 2000w"
            sizes="(max-width: 1000px) 400px, 700px"
            src="https://static.ghost.org/v3.0.0/images/writing-posts-with-ghost.png"
            alt="Writing posts with Ghost ??"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/the-editor/">

            <header class="post-card-header">
                    <div class="post-card-primary-tag">Getting Started</div>
                <h2 class="post-card-title">Writing posts with Ghost ??</h2>
            </header>

            <section class="post-card-excerpt">
                    <p>Discover familiar formatting options in a functional toolbar and the ability to add dynamic contentseamlessly.</p>
            </section>

        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Ghost
                    </div>

                    <a href="/author/ghost/" class="static-avatar">
                        <img class="author-profile-image" src="https://static.ghost.org/v3.0.0/images/ghost.png" alt="Ghost" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="/author/ghost/">Ghost</a></span>
                <span class="post-card-byline-date"><time datetime="2019-12-12">12 Dec 2019</time> <span class="bull">&bull;</span> 3 min read</span>
            </div>
        </footer>

    </div>

</article>


                <article class="post-card post tag-getting-started ">

    <a class="post-card-image-link" href="/publishing-options/">
        <img class="post-card-image"
            srcset="https://static.ghost.org/v3.0.0/images/publishing-options.png 300w,
                    https://static.ghost.org/v3.0.0/images/publishing-options.png 600w,
                    https://static.ghost.org/v3.0.0/images/publishing-options.png 1000w,
                    https://static.ghost.org/v3.0.0/images/publishing-options.png 2000w"
            sizes="(max-width: 1000px) 400px, 700px"
            src="https://static.ghost.org/v3.0.0/images/publishing-options.png"
            alt="Publishing options"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/publishing-options/">

            <header class="post-card-header">
                    <div class="post-card-primary-tag">Getting Started</div>
                <h2 class="post-card-title">Publishing options</h2>
            </header>

            <section class="post-card-excerpt">
                    <p>The Ghost editor post settings menu has everything you need to fully optimise and distribute your content effectively.</p>
            </section>

        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Ghost
                    </div>

                    <a href="/author/ghost/" class="static-avatar">
                        <img class="author-profile-image" src="https://static.ghost.org/v3.0.0/images/ghost.png" alt="Ghost" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="/author/ghost/">Ghost</a></span>
                <span class="post-card-byline-date"><time datetime="2019-12-12">12 Dec 2019</time> <span class="bull">&bull;</span> 2 min read</span>
            </div>
        </footer>

    </div>

</article>


                <article class="post-card post tag-getting-started ">

    <a class="post-card-image-link" href="/admin-settings/">
        <img class="post-card-image"
            srcset="https://static.ghost.org/v3.0.0/images/admin-settings.png 300w,
                    https://static.ghost.org/v3.0.0/images/admin-settings.png 600w,
                    https://static.ghost.org/v3.0.0/images/admin-settings.png 1000w,
                    https://static.ghost.org/v3.0.0/images/admin-settings.png 2000w"
            sizes="(max-width: 1000px) 400px, 700px"
            src="https://static.ghost.org/v3.0.0/images/admin-settings.png"
            alt="Managing admin settings"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/admin-settings/">

            <header class="post-card-header">
                    <div class="post-card-primary-tag">Getting Started</div>
                <h2 class="post-card-title">Managing admin settings</h2>
            </header>

            <section class="post-card-excerpt">
                    <p>There are a couple of things to do next while you're getting set up: making your site private and inviting your team.</p>
            </section>

        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Ghost
                    </div>

                    <a href="/author/ghost/" class="static-avatar">
                        <img class="author-profile-image" src="https://static.ghost.org/v3.0.0/images/ghost.png" alt="Ghost" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="/author/ghost/">Ghost</a></span>
                <span class="post-card-byline-date"><time datetime="2019-12-12">12 Dec 2019</time> <span class="bull">&bull;</span> 2 min read</span>
            </div>
        </footer>

    </div>

</article>


                <article class="post-card post tag-getting-started ">

    <a class="post-card-image-link" href="/organising-content/">
        <img class="post-card-image"
            srcset="https://static.ghost.org/v3.0.0/images/organising-your-content.png 300w,
                    https://static.ghost.org/v3.0.0/images/organising-your-content.png 600w,
                    https://static.ghost.org/v3.0.0/images/organising-your-content.png 1000w,
                    https://static.ghost.org/v3.0.0/images/organising-your-content.png 2000w"
            sizes="(max-width: 1000px) 400px, 700px"
            src="https://static.ghost.org/v3.0.0/images/organising-your-content.png"
            alt="Organising your content"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/organising-content/">

            <header class="post-card-header">
                    <div class="post-card-primary-tag">Getting Started</div>
                <h2 class="post-card-title">Organising your content</h2>
            </header>

            <section class="post-card-excerpt">
                    <p>Ghost has a flexible organisational taxonomy called tags and the ability to create custom site structures using dynamic routes.</p>
            </section>

        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Ghost
                    </div>

                    <a href="/author/ghost/" class="static-avatar">
                        <img class="author-profile-image" src="https://static.ghost.org/v3.0.0/images/ghost.png" alt="Ghost" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="/author/ghost/">Ghost</a></span>
                <span class="post-card-byline-date"><time datetime="2019-12-12">12 Dec 2019</time> <span class="bull">&bull;</span> 2 min read</span>
            </div>
        </footer>

    </div>

</article>


                <article class="post-card post tag-getting-started ">

    <a class="post-card-image-link" href="/apps-integrations/">
        <img class="post-card-image"
            srcset="https://static.ghost.org/v3.0.0/images/app-integrations.png 300w,
                    https://static.ghost.org/v3.0.0/images/app-integrations.png 600w,
                    https://static.ghost.org/v3.0.0/images/app-integrations.png 1000w,
                    https://static.ghost.org/v3.0.0/images/app-integrations.png 2000w"
            sizes="(max-width: 1000px) 400px, 700px"
            src="https://static.ghost.org/v3.0.0/images/app-integrations.png"
            alt="Apps &amp; integrations"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/apps-integrations/">

            <header class="post-card-header">
                    <div class="post-card-primary-tag">Getting Started</div>
                <h2 class="post-card-title">Apps &amp; integrations</h2>
            </header>

            <section class="post-card-excerpt">
                    <p>Work with all your favourite apps and tools or create your own custom integrations using the Ghost API.</p>
            </section>

        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Ghost
                    </div>

                    <a href="/author/ghost/" class="static-avatar">
                        <img class="author-profile-image" src="https://static.ghost.org/v3.0.0/images/ghost.png" alt="Ghost" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="/author/ghost/">Ghost</a></span>
                <span class="post-card-byline-date"><time datetime="2019-12-12">12 Dec 2019</time> <span class="bull">&bull;</span> 2 min read</span>
            </div>
        </footer>

    </div>

</article>


                <article class="post-card post tag-getting-started post-card-large">

    <a class="post-card-image-link" href="/themes/">
        <img class="post-card-image"
            srcset="https://static.ghost.org/v3.0.0/images/creating-a-custom-theme.png 300w,
                    https://static.ghost.org/v3.0.0/images/creating-a-custom-theme.png 600w,
                    https://static.ghost.org/v3.0.0/images/creating-a-custom-theme.png 1000w,
                    https://static.ghost.org/v3.0.0/images/creating-a-custom-theme.png 2000w"
            sizes="(max-width: 1000px) 400px, 700px"
            src="https://static.ghost.org/v3.0.0/images/creating-a-custom-theme.png"
            alt="Creating a custom theme"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/themes/">

            <header class="post-card-header">
                    <div class="post-card-primary-tag">Getting Started</div>
                <h2 class="post-card-title">Creating a custom theme</h2>
            </header>

            <section class="post-card-excerpt">
                    <p>Ghost comes with a beautiful default theme designed for publishers which can easily be adapted for most purposes, or you can build a custom theme to suit your needs.</p>
            </section>

        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Ghost
                    </div>

                    <a href="/author/ghost/" class="static-avatar">
                        <img class="author-profile-image" src="https://static.ghost.org/v3.0.0/images/ghost.png" alt="Ghost" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="/author/ghost/">Ghost</a></span>
                <span class="post-card-byline-date"><time datetime="2019-12-12">12 Dec 2019</time> <span class="bull">&bull;</span> 2 min read</span>
            </div>
        </footer>

    </div>

</article>

        </div>

    </div>
</main>

<div class="outer site-nav-main">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left-wrapper">
        <div class="site-nav-left">
                <a class="site-nav-logo" href="http://localhost:2368"><img src="https://static.ghost.org/v1.0.0/images/ghost-logo.svg" alt="Ghost" /></a>
            <div class="site-nav-content">
                    <ul class="nav" role="menu">
    <li class="nav-home nav-current" role="menuitem"><a href="http://localhost:2368/">Home</a></li>
    <li class="nav-tag" role="menuitem"><a href="http://localhost:2368/tag/getting-started/">Tag</a></li>
    <li class="nav-author" role="menuitem"><a href="http://localhost:2368/author/ghost/">Author</a></li>
    <li class="nav-help" role="menuitem"><a href="https://ghost.org/docs/">Help</a></li>
</ul>

            </div>
        </div>
    </div>
    <div class="site-nav-right">
            <div class="social-links">
                    <a class="social-link social-link-fb" href="https://www.facebook.com/ghost" title="Facebook" target="_blank" rel="noopener"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16 0c8.837 0 16 7.163 16 16s-7.163 16-16 16S0 24.837 0 16 7.163 0 16 0zm5.204 4.911h-3.546c-2.103 0-4.443.885-4.443 3.934.01 1.062 0 2.08 0 3.225h-2.433v3.872h2.509v11.147h4.61v-11.22h3.042l.275-3.81h-3.397s.007-1.695 0-2.187c0-1.205 1.253-1.136 1.329-1.136h2.054V4.911z" /></svg></a>
                    <a class="social-link social-link-tw" href="https://twitter.com/tryghost" title="Twitter" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
</a>
            </div>
                <a class="rss-button" href="https://feedly.com/i/subscription/feed/http://localhost:2368/rss/" title="RSS"target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg>
</a>

    </div>
</nav>
    </div>
</div>


        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="http://localhost:2368">Ghost</a> &copy; 2019</section>
                <nav class="site-footer-nav">
                    <a href="http://localhost:2368">Latest Posts</a>
                    <a href="https://www.facebook.com/ghost" target="_blank" rel="noopener">Facebook</a>
                    <a href="https://twitter.com/tryghost" target="_blank" rel="noopener">Twitter</a>
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>


    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="/assets/built/casper.js?v=4a4350c2b3"></script>

    <script>
        // Parse the URL parameter
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        // Give the parameter a variable name
        var action = getParameterByName('action');

        $(document).ready(function () {
            if (action == 'subscribe') {
                $('body').addClass("subscribe-success");
            }

            $('.subscribe-success-message .subscribe-close').click(function () {
                $('.subscribe-success-message').addClass('close');
            });

            // Reset form on opening subscrion overlay
            $('.subscribe-button').click(function() {
                $('.subscribe-overlay form').removeClass();
                $('.subscribe-email').val('');
            });
        });
    </script>

    <script>

    // NOTE: Scroll performance is poor in Safari
    // - this appears to be due to the events firing much more slowly in Safari.
    //   Dropping the scroll event and using only a raf loop results in smoother
    //   scrolling but continuous processing even when not scrolling
    $(document).ready(function () {

        var nav = document.querySelector('.site-nav-main .site-nav');
        var feed = document.querySelector('.post-feed');

        var lastScrollY = window.scrollY;
        var lastWindowHeight = window.innerHeight;
        var lastDocumentHeight = $(document).height();
        var ticking = false;

        function onScroll() {
            lastScrollY = window.scrollY;
            requestTick();
        }

        function onResize() {
            lastWindowHeight = window.innerHeight;
            lastDocumentHeight = $(document).height();
            requestTick();
        }

        function requestTick() {
            if (!ticking) {
                requestAnimationFrame(update);
            }
            ticking = true;
        }

        function update() {
            var trigger = feed.getBoundingClientRect().top + window.scrollY;
            var progressMax = lastDocumentHeight - lastWindowHeight;

            // show/hide nav
            if (lastScrollY >= trigger - 20) {
                nav.classList.add('fixed-nav-active');
            } else {
                nav.classList.remove('fixed-nav-active');
            }

            ticking = false;
        }

        window.addEventListener('scroll', onScroll, { passive: true });
        window.addEventListener('resize', onResize, false);

        update();

    });
</script>




</body>
</html>
[node1 deployment]$

[node1 deployment]$ terraform destroy -auto-approve
kubernetes_deployment.ghost_deployment: Refreshing state... [id=default/ghost-blog]
kubernetes_service.ghost_service: Refreshing state... [id=default/ghost-service]
kubernetes_service.ghost_service: Destroying... [id=default/ghost-service]
kubernetes_service.ghost_service: Destruction complete after 2s
kubernetes_deployment.ghost_deployment: Destroying... [id=default/ghost-blog]
kubernetes_deployment.ghost_deployment: Destruction complete after 5s

Destroy complete! Resources: 2 destroyed.
[node1 deployment]$ kubectl get pods
No resources found.
[node1 deployment]$ kubectl get deployments
No resources found.
[node1 deployment]$
[node1 deployment]$ cd ..
[node1 terraform]$ ls -ltr
total 0
drwxr-xr-x 3 root root 96 Dec 12 07:37 pod
drwxr-xr-x 3 root root 96 Dec 12 07:51 service
drwxr-xr-x 3 root root 96 Dec 12 09:15 deployment
[node1 terraform]$
[node1 ~]$ ls
anaconda-ks.cfg  terraform
[node1 ~]$ cd terraform/pod/
[node1 pod]$ ls
main.tf  terraform.tfstate  terraform.tfstate.backup
[node1 pod]$ cd ../service/
[node1 service]$ ls
main.tf  terraform.tfstate  terraform.tfstate.backup
[node1 service]$ cd ../deployment/
[node1 deployment]$ ls
main.tf  terraform.tfstate  terraform.tfstate.backup
[node1 deployment]$ pwd
/root/terraform/deployment
[node1 deployment]$